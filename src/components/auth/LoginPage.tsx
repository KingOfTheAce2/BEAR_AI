import React, { useState } from 'react';
import { useApp } from '../../contexts/AppContext';
import { useTheme } from '../../contexts/ThemeContext';
import { Button } from '../ui/Button';
import { Input } from '../ui/Input';
import { LoadingSpinner } from '../ui/LoadingSpinner';
import { ShieldCheckIcon, ScaleIcon } from '@heroicons/react/24/outline';

export const LoginPage: React.FC = () => {
  const { login, state } = useApp();\n  const { config } = useTheme();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [errors, setErrors] = useState<{ [key: string]: string }>({});\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    // Basic validation\n    const newErrors: { [key: string]: string } = {};\n    if (!formData.email) newErrors.email = 'Email is required';\n    if (!formData.password) newErrors.password = 'Password is required';\n    \n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      return;\n    }\n    \n    setErrors({});\n    await login(formData.email, formData.password);\n  };\n\n  const handleInputChange = (field: string, value: string) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    // Clear error when user starts typing\n    if (errors[field]) {\n      setErrors(prev => ({ ...prev, [field]: '' }));\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        {/* Header */}\n        <div className=\"text-center\">\n          <div className=\"flex items-center justify-center space-x-2 mb-4\">\n            <div className=\"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl\">\n              <ScaleIcon className=\"w-6 h-6 text-white\" />\n            </div>\n            <h1 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">\n              BEAR AI\n            </h1>\n          </div>\n          <p className=\"text-gray-600 dark:text-gray-400\">\n            Legal Assistant for Professionals\n          </p>\n        </div>\n\n        {/* Login Form */}\n        <div className=\"bg-white dark:bg-gray-800 shadow-xl rounded-2xl border border-gray-200 dark:border-gray-700 p-8\">\n          <div className=\"mb-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2\">\n              Sign in to your account\n            </h2>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n              Access your AI-powered legal assistant\n            </p>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <Input\n                label=\"Email address\"\n                type=\"email\"\n                value={formData.email}\n                onChange={(value) => handleInputChange('email', value)}\n                error={errors.email}\n                placeholder=\"sarah@lawfirm.com\"\n                disabled={state.isLoading}\n                required\n              />\n            </div>\n\n            <div>\n              <Input\n                label=\"Password\"\n                type=\"password\"\n                value={formData.password}\n                onChange={(value) => handleInputChange('password', value)}\n                error={errors.password}\n                placeholder=\"Enter your password\"\n                disabled={state.isLoading}\n                required\n              />\n            </div>\n\n            {state.error && (\n              <div className=\"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\">\n                <p className=\"text-sm text-red-600 dark:text-red-400\">\n                  {state.error}\n                </p>\n              </div>\n            )}\n\n            <Button\n              type=\"submit\"\n              variant=\"primary\"\n              size=\"lg\"\n              fullWidth\n              disabled={state.isLoading}\n            >\n              {state.isLoading ? (\n                <>\n                  <LoadingSpinner size=\"sm\" className=\"mr-2\" />\n                  Signing in...\n                </>\n              ) : (\n                'Sign in'\n              )}\n            </Button>\n          </form>\n\n          <div className=\"mt-6 pt-6 border-t border-gray-200 dark:border-gray-600\">\n            <div className=\"flex items-center justify-center space-x-2 text-sm text-gray-500 dark:text-gray-400\">\n              <ShieldCheckIcon className=\"w-4 h-4\" />\n              <span>Secure legal-grade authentication</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"text-center text-sm text-gray-500 dark:text-gray-400\">\n          <p>Â© 2024 BEAR AI. Built for legal professionals.</p>\n        </div>\n      </div>\n    </div>\n  );\n};